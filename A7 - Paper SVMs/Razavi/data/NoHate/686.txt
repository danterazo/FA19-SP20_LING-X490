I am running a mail server behind my ISPs firewall. Sending and receiving messages from inside the network works fine. Sending messages from behind the network to addresses outside the firewall also works find. However , when I am outside the firewall and I telnet in at port 25 , I get a " connecting to xxx.xx.xxx.xxx " message and then it times out ( sendmail wont start until a connection is established , so I have ruled out it being a sendmail configuration problem ) . I can successfully telnet to my server using port 23 and port 110 , it is just port 25 that doesnt work. My ISP claims that the firewall is set up right and that it is my problem. They suggested installing a packet sniffer to see if the packets are arriving. So , I installed exdump and exdump does record packets coming into my machine on port 25 when I am trying to telnet from outside the network. HOWEVER , I noticed that on every tcp header being received on my machine , the acknowledgement number is set to 0. I am no tcp guru , and I know little about firewalls , so I am not sure what do make of it. Can anyone tell me for sure that it is the firewall and my ISP that is responsible , or is it possible that something is not set up right on my mail server ? A TCP connection starts with a three-way handshake : SYN SYN ACK ACK All packets except for the first have the ACK bit set. A typical firewall blocks incoming TCP connection by filtering out all packets without the ACK bit , meaning all connection requests. The acknowledgement field is set to zero because in the first packet , there is nothing to acknowledge ( essentially ) . It appears that you are indeed receiving the initial SYN packet , but that your machine isnt responding with a SYN ACK. This indicates some firewalling going on at the machine itself. Anyway , you might want to see my sniffing-faq : Robert Graham 
